(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"./bundles/sf-treegrid.js":function(e,t,i){"use strict";i.r(t);i("./modules/sf-treegrid.js")},"./modules/sf-treegrid.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.TreeGrid=function(){"use strict";var e=function(){function e(e){this.treeCopyContent="",this.copiedUniqueIdCollection=[],this.parent=e,this.gridClipboard=this.parent.grid.clipboardModule,this.clipBoardTextArea=sf.base.createElement("textarea",{className:"e-clipboard",styles:"opacity: 0",attrs:{tabindex:"-1","aria-label":"clipboard","aria-hidden":"true"}}),this.parent.element.appendChild(this.clipBoardTextArea)}return e.prototype.copy=function(e){document.queryCommandSupported("copy")&&(this.setCopyData(e),document.execCommand("copy"),this.clipBoardTextArea.blur()),this.gridClipboard.isSelect&&(window.getSelection().removeAllRanges(),this.gridClipboard.isSelect=!1)},e.prototype.setCopyData=function(e){var t=this.parent.options.currentViewData;if(""===window.getSelection().toString()){this.clipBoardTextArea.value=this.gridClipboard.copyContent="";var i=this.parent.grid.getRows();if("Cell"!==this.parent.grid.selectionMode){for(var o=this.parent.grid.getSelectedRowIndexes().sort((function(e,t){return e-t})),n=0;n<o.length;n++)if(n>0&&(this.treeCopyContent+="\n"),!i[o[n]].classList.contains("e-summaryrow")){var r=[].slice.call(i[o[n]].querySelectorAll(".e-rowcell")),s=this.parent.options.currentViewData[o[n]].uniqueID;-1===this.copiedUniqueIdCollection.indexOf(s)&&("Parent"!==this.parent.options.copyHierarchyMode&&"Both"!==this.parent.options.copyHierarchyMode||this.parentContentData(t,o[n],i,e,n),this.gridClipboard.getCopyData(r,!1,"\t",e),this.treeCopyContent+=this.gridClipboard.copyContent,this.copiedUniqueIdCollection.push(s),this.gridClipboard.copyContent="","Child"!==this.parent.options.copyHierarchyMode&&"Both"!==this.parent.options.copyHierarchyMode||this.childContentData(t,o[n],i,e))}if(e){var a=[];for(n=0;n<this.parent.grid.getVisibleColumns().length;n++)a[n]=this.parent.grid.getVisibleColumns()[n].headerText;this.gridClipboard.getCopyData(a,!1,"\t",e),this.treeCopyContent=this.gridClipboard.copyContent+"\n"+this.treeCopyContent}this.clipBoardTextArea.value=this.gridClipboard.copyContent=this.treeCopyContent,sf.base.Browser.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):(window.getSelection().removeAllRanges(),this.clipBoardTextArea.select()),this.gridClipboard.isSelect=!0,this.copiedUniqueIdCollection=[],this.treeCopyContent=""}}},e.prototype.parentContentData=function(e,t,i,o,n){if(!sf.base.isNullOrUndefined(e[t].parentRecord))for(var r=e[t].parentRecord.level,s=0;s<r+1;s++)for(var a=0;a<e.length;a++)if(!sf.base.isNullOrUndefined(e[t].parentRecord)&&e[a].uniqueID===e[t].parentRecord.uniqueID){t=a;var l=[].slice.call(i[t].querySelectorAll(".e-rowcell")),d=e[a].uniqueID;if(-1===this.copiedUniqueIdCollection.indexOf(d)){this.gridClipboard.getCopyData(l,!1,"\t",o),this.treeCopyContent=n>0?this.treeCopyContent+this.gridClipboard.copyContent+"\n":this.gridClipboard.copyContent+"\n"+this.treeCopyContent,this.copiedUniqueIdCollection.push(d),this.gridClipboard.copyContent="";break}}},e.prototype.childContentData=function(e,t,i,o){if(e[t].hasChildRecords)for(var n=e[t].childRecords,r=0;r<n.length;r++)for(var s=0;s<e.length;s++)if(!sf.base.isNullOrUndefined(n[r].uniqueID)&&e[s].uniqueID===n[r].uniqueID){if(!sf.base.isNullOrUndefined(i[s])&&!i[s].classList.contains("e-summaryrow")){var a=[].slice.call(i[s].querySelectorAll(".e-rowcell")),l=e[s].uniqueID;-1===this.copiedUniqueIdCollection.indexOf(l)&&(this.gridClipboard.getCopyData(a,!1,"\t",o),this.treeCopyContent+="\n"+this.gridClipboard.copyContent,this.gridClipboard.copyContent="",this.copiedUniqueIdCollection.push(l),this.childContentData(e,s,i,o))}break}},e}(),t=function(){function t(t,i,o){this.columnModel=[],this.element=t,this.element.blazor_instance=this,this.grid=t.querySelector("#"+t.id+"_gridcontrol").blazor__instance,this.dotNetRef=o,this.options=i,this.header=this.element.querySelector(".e-headercontent"),this.content=this.element.querySelector(".e-content"),this.footer=this.element.querySelector(".e-summarycontent"),this.clipboardModule=new e(this),this.wireEvents()}return t.prototype.wireEvents=function(){sf.base.EventHandler.add(this.element,"keydown",this.KeyDownHandler,this)},t.prototype.getContent=function(){return this.content},t.prototype.getContentTable=function(){return this.content.querySelector(".e-table")},t.prototype.getHeaderContent=function(){return this.header},t.prototype.getHeaderTable=function(){return this.header.querySelector(".e-table")},t.prototype.getRows=function(){return[].slice.call(this.getContent().querySelectorAll(".e-row"))},t.prototype.KeyDownHandler=function(e){67===e.keyCode&&e.ctrlKey?this.clipboardModule.copy():72===e.keyCode&&e.ctrlKey&&e.shiftKey&&this.clipboardModule.copy(!0)},t.prototype.unWireEvents=function(){sf.base.EventHandler.remove(this.element,"keydown",this.KeyDownHandler)},t.prototype.destroy=function(){this.unWireEvents()},t}();return{initialize:function(e,i,o){sf.base.enableBlazorMode(),new t(e,i,o)},modelChanged:function(e,t,i){e.blazor_instance.options=t;JSON.parse(i)},copyToClipBoard:function(e,t){"Cell"===e.blazor_instance.grid.options.selectionMode?e.blazor_instance.grid.clipboardModule.copy(t):e.blazor_instance.clipboardModule.copy(t)},destroy:function(e){e.blazor_instance.destroy()}}}()}}]);