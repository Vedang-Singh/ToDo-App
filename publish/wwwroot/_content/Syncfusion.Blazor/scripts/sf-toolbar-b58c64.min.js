(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{"./bundles/sf-toolbar.js":function(e,t,s){"use strict";s.r(t);s("./modules/sf-toolbar.js")},"./modules/sf-toolbar.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Toolbar=function(){"use strict";var e="e-toolbar-items",t="e-blazor-toolbar-items",s="e-toolbar-item",i="e-toolbar-popup",o=function(){function o(e,t,s){this.resizeContext=this.resize.bind(this),this.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},this.element=e,this.element.blazor__instance=this,this.dotNetRef=s,this.options=t}return o.prototype.destroy=function(){var e=this;this.unwireEvents(),this.resetServerItems();for(var s=0,i=[].slice.call(this.element.children);s<i.length;s++){var o=i[s];o.classList.contains(t)||this.element.removeChild(o)}this.clearProperty(),this.popObj=null,this.tbarAlign=null,sf.base.removeClass([this.element],"e-toolpop"),this.options.cssClass&&sf.base.removeClass([this.element],this.options.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach((function(t){return e.element.removeAttribute(t)})),sf.base.removeClass([this.element],["e-toolbar"])},o.prototype.wireEvents=function(){sf.base.EventHandler.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.options.allowKeyboard&&this.wireKeyboardEvent()},o.prototype.wireKeyboardEvent=function(){this.keyModule=new sf.base.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),sf.base.EventHandler.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")},o.prototype.unwireKeyboardEvent=function(){this.keyModule&&(sf.base.EventHandler.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},o.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var t=!sf.base.isNullOrUndefined(this.popObj)&&sf.base.isVisible(this.popObj.element)&&"Extended"!==this.options.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},o.prototype.unwireEvents=function(){sf.base.EventHandler.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),sf.base.EventHandler.remove(document,"scroll",this.docEvent),sf.base.EventHandler.remove(document,"click",this.docEvent)},o.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},o.prototype.docEvent=function(e){var t=sf.base.closest(e.target,".e-popup");this.popObj&&sf.base.isVisible(this.popObj.element)&&!t&&"Popup"===this.options.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},o.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&sf.base.addClass([this.scrollModule.element],"e-tbar-pos"),this.scrollModule.destroy(),this.scrollModule=null)},o.prototype.destroyMode=function(){this.scrollModule&&(sf.base.removeClass([this.scrollModule.element],"e-rtl"),this.destroyScroll()),sf.base.removeClass([this.element],"e-tbar-extended"),sf.base.removeClass([this.element],"e-extended-toolbar");var e=this.element.querySelector(".e-toolbar-multirow");e&&sf.base.removeClass([e],"e-toolbar-multirow"),this.popObj&&this.popupRefresh(this.popObj.element,!0)},o.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},o.prototype.clstElement=function(e,t){return e&&this.popObj&&sf.base.isVisible(this.popObj.element)?this.popObj.element.querySelector("."+s):this.element===t||e?this.element.querySelector("."+s+":not(.e-overlay ):not(.e-separator ):not(.e-hidden )"):sf.base.closest(t,"."+s)},o.prototype.keyHandling=function(t,i,o,n,l){var r=this.popObj,a=this.element,h={name:"FadeOut",duration:100};switch(i.action){case"moveRight":if(this.options.isVertical)return;a===o?this.elementFocus(t):n||this.eleFocus(t,"next");break;case"moveLeft":if(this.options.isVertical)return;n||this.eleFocus(t,"previous");break;case"home":case"end":var p=void 0,c=void 0;if(t){var f=sf.base.closest(t,".e-popup");f?sf.base.isVisible(this.popObj.element)&&(c=[].slice.call(f.children),p="home"===i.action?c[0]:c[c.length-1]):(c=this.element.querySelectorAll("."+e+" ."+s),p="home"===i.action?c[0]:c[c.length-1]),p&&this.elementFocus(p)}break;case"moveUp":case"moveDown":var d="moveUp"===i.action?"previous":"next";if(this.options.isVertical)"moveUp"===i.action?this.eleFocus(t,"previous"):this.eleFocus(t,"next");else if(r&&sf.base.closest(o,".e-popup")){var b=r.element,u=b.firstElementChild;if("previous"===d&&u===t||"next"===d&&b.lastElementChild===t)return;this.eleFocus(t,d)}else"moveDown"===i.action&&r&&sf.base.isVisible(r.element)&&this.elementFocus(t);break;case"tab":if(!l&&!n){var m=t.firstElementChild;a===o&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(m),m.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":r&&"Extended"!==this.options.overflowMode&&r.hide(h);break;case"popupOpen":if(!n)return;r&&!sf.base.isVisible(r.element)?(r.element.style.top=a.offsetHeight+"px",r.show({name:"FadeIn",duration:100})):r.hide(h)}},o.prototype.keyActionHandler=function(e){var t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!this.element.classList.contains("e-overlay")){var s;e.preventDefault();var i=t.classList.contains("e-hor-nav"),o=t.classList.contains("e-scroll-nav");((s=this.clstElement(i,t))||o)&&this.keyHandling(s,e,t,i,o)}},o.prototype.eleContains=function(e){return e.classList.contains("e-separator")||e.classList.contains("e-overlay")||e.getAttribute("disabled")||e.classList.contains("e-hidden")||!sf.base.isVisible(e)},o.prototype.eleFocus=function(e,t){var i=Object(e)[t+"ElementSibling"];if(i){if(this.eleContains(i))return void this.eleFocus(i,t);this.elementFocus(i)}else if(this.tbarAlign){var o=Object(e.parentElement)[t+"ElementSibling"];if(sf.base.isNullOrUndefined(o)||0!==o.children.length||(o=Object(o)[t+"ElementSibling"]),!sf.base.isNullOrUndefined(o)&&o.children.length>0)if("next"===t){var n=o.querySelector("."+s);this.eleContains(n)?this.eleFocus(n,t):(n.firstElementChild.focus(),this.activeEleSwitch(n))}else{n=o.lastElementChild;this.eleContains(n)?this.eleFocus(n,t):this.elementFocus(n)}}},o.prototype.clickHandler=function(e){var t,i=e.target,o=i.classList,n=this.element,l=!sf.base.isNullOrUndefined(sf.base.closest(i,".e-toolbar-pop")),r=o.contains("e-close-icon"),a=sf.base.closest(i,".e-hor-nav");a||(a=i),n.children[0].classList.contains("e-hscroll")||n.children[0].classList.contains("e-vscroll")||!o.contains("e-hor-nav")||(o=i.querySelector(".e-icons").classList),(o.contains("e-popup-up-icon")||o.contains("e-popup-down-icon"))&&this.popupClickHandler(n,a,"e-rtl");var h=sf.base.closest(e.target,"."+s);(!sf.base.isNullOrUndefined(h)&&!h.classList.contains("e-overlay")||a.classList.contains("e-hor-nav"))&&(sf.base.isNullOrUndefined(h)||(t=parseInt(h.getAttribute("data-index"),10)),this.dotNetRef.invokeMethodAsync("TriggerClickEvent",e,l,r,t))},o.prototype.popupClickHandler=function(e,t,s){var i=this.popObj;sf.base.isVisible(i.element)?(t.classList.remove("e-nav-active"),i.hide({name:"FadeOut",duration:100})):((e.classList.contains(s)||this.options.isVerticalLeft)&&(e.classList.contains(s)&&(i.enableRtl=!0),i.position={X:"left",Y:"top"}),0!==i.offsetX||e.classList.contains(s)||this.options.isVerticalLeft||(i.enableRtl=!1,i.position={X:"right",Y:"top"}),i.dataBind(),i.refreshPosition(),i.element.style.top=this.getElementOffsetY()+"px","Extended"===this.options.overflowMode&&(i.element.style.minHeight="0px"),t.classList.add("e-nav-active"),i.show({name:"FadeIn",duration:100}))},o.prototype.render=function(){this.scrollModule=null,this.popObj=null,this.isExtendedOpen=!1,this.popupPriCount=0;var e=sf.base.formatUnit(this.options.width),t=sf.base.formatUnit(this.options.height);"msie"===sf.base.Browser.info.name&&"auto"===this.options.height||sf.base.setStyleAttribute(this.element,{height:t}),sf.base.setStyleAttribute(this.element,{width:e}),this.element.setAttribute("aria-haspopup","false"),this.renderControl(),this.wireEvents()},o.prototype.renderControl=function(){this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},o.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},o.prototype.itemsAlign=function(e,i){var o,n;this.tbarEle||(this.tbarEle=[]);for(var l=0;l<e.length;l++){(o=this.element.querySelector("."+t).querySelector("."+s+'[data-index="'+l+'"]'))&&("Show"!==e[l].overflow&&e[l].showAlwaysInPopup&&!o.classList.contains("e-separator")&&this.popupPriCount++,e[l].htmlAttributes&&this.setAttr(e[l].htmlAttributes,o),"Button"===e[l].type&&(sf.base.EventHandler.clearEvents(o),sf.base.EventHandler.add(o,"click",this.itemClick,this)),-1===this.tbarEle.indexOf(o)&&this.tbarEle.push(o),this.tbarAlign||this.tbarItemAlign(e[l],i,l),(n=i.querySelector(".e-toolbar-"+e[l].align.toLowerCase()))?(e[l].showAlwaysInPopup&&"Show"!==e[l].overflow||this.tbarAlgEle[(e[l].align+"s").toLowerCase()].push(o),n.appendChild(o)):i.appendChild(o))}},o.prototype.serverItemsRefresh=function(){this.element.querySelector("."+t).children.length>0&&(this.itemsAlign(this.options.items,this.element.querySelector("."+e)),this.renderLayout(),this.refreshOverflow())},o.prototype.resetServerItems=function(){var i=this.element.querySelector("."+t),o=[].slice.call(sf.base.selectAll("."+e+" ."+s,this.element));sf.base.append(o,i),this.clearProperty()},o.prototype.changeOrientation=function(){this.options.isVertical?(this.element.classList.add("e-vertical"),this.element.setAttribute("aria-orientation","vertical"),sf.base.setStyleAttribute(this.element,{height:sf.base.formatUnit(this.options.height),width:sf.base.formatUnit(this.options.width)})):(this.element.classList.remove("e-vertical"),this.element.setAttribute("aria-orientation","horizontal"),"auto"!==this.options.height&&"100%"!==this.options.height||(this.element.style.height=this.options.height)),this.destroyMode(),this.refreshOverflow()},o.prototype.initScroll=function(t,s){!this.scrollModule&&this.checkOverflow(t,s[0])&&(this.tbarAlign&&this.element.querySelector("."+e+" .e-toolbar-center").removeAttribute("style"),this.options.isVertical?this.scrollModule=new sf.navigations.VScroll({scrollStep:this.options.scrollStep,enableRtl:this.options.enableRtl},s[0]):this.scrollModule=new sf.navigations.HScroll({scrollStep:this.options.scrollStep,enableRtl:this.options.enableRtl},s[0]),sf.base.removeClass([this.scrollModule.element],"e-tbar-pos"),sf.base.setStyleAttribute(this.element,{overflow:"hidden"}))},o.prototype.itemWidthCal=function(e){var t,i=this,o=0;return[].slice.call(sf.base.selectAll("."+s,e)).forEach((function(e){sf.base.isVisible(e)&&(t=window.getComputedStyle(e),o+=i.options.isVertical?e.offsetHeight:e.offsetWidth,o+=parseFloat(i.options.isVertical?t.marginTop:t.marginRight),o+=parseFloat(i.options.isVertical?t.marginBottom:t.marginLeft))})),o},o.prototype.getScrollCntEle=function(e){var t=this.options.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(t)},o.prototype.checkOverflow=function(e,t){if(sf.base.isNullOrUndefined(e)||sf.base.isNullOrUndefined(t)||!sf.base.isVisible(e))return!1;var s=this.options.isVertical?e.offsetHeight:e.offsetWidth,i=this.options.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||s===i)&&(i=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));var o=e.querySelector(".e-hor-nav"),n=e.querySelector(".e-scroll-nav"),l=0;return o?l=this.options.isVertical?o.offsetHeight:o.offsetWidth:n&&(l=this.options.isVertical?2*n.offsetHeight:2*n.offsetWidth),i>s-l},o.prototype.refreshOverflow=function(){this.resize()},o.prototype.toolbarAlign=function(e){this.tbarAlign&&(sf.base.addClass([e],"e-tbar-pos"),this.itemPositioning())},o.prototype.renderOverflowMode=function(){var t=this.element,s=t.querySelector("."+e),i=this.popupPriCount>0;if(t&&t.children.length>0)switch(this.offsetWid=t.offsetWidth,sf.base.removeClass([this.element],"e-toolpop"),"msie"===sf.base.Browser.info.name&&"auto"===this.options.height&&(t.style.height=""),this.options.overflowMode){case"Scrollable":sf.base.isNullOrUndefined(this.scrollModule)&&this.initScroll(t,[].slice.call(t.getElementsByClassName(e)));break;case"Popup":sf.base.addClass([this.element],"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(t,s)||i)&&this.setOverflowAttributes(t),this.toolbarAlign(s);break;case"MultiRow":sf.base.addClass([s],"e-toolbar-multirow"),this.checkOverflow(t,s)&&this.tbarAlign&&(this.removePositioning(),sf.base.addClass([s],"e-multirow-pos")),"hidden"===t.style.overflow&&(t.style.overflow=""),"msie"!==sf.base.Browser.info.name&&"auto"===t.style.height||(t.style.height="auto");break;case"Extended":sf.base.addClass([this.element],"e-extended-toolbar"),(this.checkOverflow(t,s)||i)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(t)),this.toolbarAlign(s)}},o.prototype.setOverflowAttributes=function(t){this.createPopupEle(t,[].slice.call(sf.base.selectAll("."+e+" ."+s,t))),this.element.querySelector(".e-hor-nav").setAttribute("tabIndex","0"),this.element.querySelector(".e-hor-nav").setAttribute("role","list")},o.prototype.separator=function(){var e,t=this.element,s=[].slice.call(t.querySelectorAll(".e-separator")),i=t.querySelector(".e-multirow-separator"),o=t.querySelector(".e-extended-separator");null!==(e="MultiRow"===this.options.overflowMode?i:o)&&("MultiRow"===this.options.overflowMode?e.classList.remove("e-multirow-separator"):"Extended"===this.options.overflowMode&&e.classList.remove("e-extended-separator"));for(var n=0;n<=s.length-1;n++)s[n].offsetLeft<30&&0!==s[n].offsetLeft&&("MultiRow"===this.options.overflowMode?s[n].classList.add("e-multirow-separator"):"Extended"===this.options.overflowMode&&s[n].classList.add("e-extended-separator"))},o.prototype.createPopupEle=function(e,t){var s=e.querySelector(".e-hor-nav"),i=this.options.isVertical;s||this.createPopupIcon(e),s=e.querySelector(".e-hor-nav");var o=i?s.offsetHeight:s.offsetWidth,n=(i?e.offsetHeight:e.offsetWidth)-o;this.element.classList.remove("e-rtl"),sf.base.setStyleAttribute(this.element,{direction:"initial"}),this.checkPriority(e,t,n,!0),this.options.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},o.prototype.pushingPoppedEle=function(t,o,n,l,r){var a=this.element,h=sf.base.selectAll(".e-overflow-show",n),p=0,c=[].slice.call(sf.base.selectAll("."+i,a.querySelector("."+e))),f=0;c.forEach((function(e,s){h=sf.base.selectAll(".e-overflow-show",n),e.classList.contains("e-overflow-show")&&h.length>0?t.tbResize&&h.length>s?(n.insertBefore(e,h[s]),++f):(n.insertBefore(e,n.children[h.length]),++f):e.classList.contains("e-overflow-show")||t.tbResize&&e.classList.contains("e-overflow-hide")&&n.children.length>0&&0===h.length?(n.insertBefore(e,n.firstChild),++f):e.classList.contains("e-overflow-hide")?o.push(e):t.tbResize?(n.insertBefore(e,n.childNodes[p+f]),++p):n.appendChild(e),e.classList.contains("e-separator")?sf.base.setStyleAttribute(e,{display:"",height:r+"px"}):sf.base.setStyleAttribute(e,{display:"",height:l+"px"})})),o.forEach((function(e){n.appendChild(e)}));for(var d=sf.base.selectAll("."+s,a.querySelector("."+e)),b=d.length-1;b>=0;b--){var u=d[b];if(!u.classList.contains("e-separator")||"Extended"===this.options.overflowMode)break;sf.base.setStyleAttribute(u,{display:"none"})}},o.prototype.createPopup=function(){var e,t,o,n,l,r=this.element;"Extended"===this.options.overflowMode&&(n=r.querySelector(".e-separator:not(."+i+")"),o="auto"===r.style.height||""===r.style.height?null:n&&n.offsetHeight),t=r.querySelector("."+s+":not(.e-separator):not(."+i+")"),e="auto"===r.style.height||""===r.style.height?null:t&&t.offsetHeight;if(r.querySelector("#"+r.id+"_popup.e-toolbar-pop"))l=r.querySelector("#"+r.id+"_popup.e-toolbar-pop");else{var a=sf.base.createElement("div",{id:r.id+"_popup",className:"e-toolbar-pop e-toolbar-extended"}),h=sf.base.createElement("div",{id:r.id+"_popup",className:"e-toolbar-pop"});l="Extended"===this.options.overflowMode?a:h}this.pushingPoppedEle(this,[],l,e,o),this.popupInit(r,l)},o.prototype.getElementOffsetY=function(){return"Extended"===this.options.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},o.prototype.popupInit=function(e,t){if(this.popObj){var s=this.popObj.element;sf.base.setStyleAttribute(s,{maxHeight:"",display:"block"}),sf.base.setStyleAttribute(s,{maxHeight:s.offsetHeight+"px",display:""})}else{e.appendChild(t),sf.base.setStyleAttribute(this.element,{overflow:""});var i=window.getComputedStyle(this.element),o=new sf.popups.Popup(null,{relateTo:this.element,offsetY:this.options.isVertical?0:this.getElementOffsetY(),enableRtl:this.options.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.options.enableCollision?"flip":"none"},position:this.options.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(o.appendTo(t),"Extended"===this.options.overflowMode&&(o.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth),o.offsetX=0),sf.base.EventHandler.add(document,"scroll",this.docEvent.bind(this)),sf.base.EventHandler.add(document,"click ",this.docEvent.bind(this)),o.element.style.maxHeight=o.element.offsetHeight+"px",this.options.isVertical&&(o.element.style.visibility="hidden"),this.isExtendedOpen){var n=this.element.querySelector(".e-hor-nav");n.classList.add("e-nav-active"),sf.base.classList(n.firstElementChild,["e-popup-up-icon"],["e-popup-down-icon"]),this.element.querySelector(".e-toolbar-extended").classList.add("e-popup-open")}else o.hide();this.popObj=o,this.element.setAttribute("aria-haspopup","true")}},o.prototype.tbarPopupHandler=function(e){"Extended"===this.options.overflowMode&&(e?sf.base.addClass([this.element],"e-tbar-extended"):sf.base.removeClass([this.element],"e-tbar-extended"))},o.prototype.popupOpen=function(e){var t=this.popObj;this.options.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());var s=this.popObj.element,i=this.popObj.element.parentElement,o=i.querySelector(".e-hor-nav");sf.base.setStyleAttribute(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.options.overflowMode&&(t.element.style.minHeight="");var n=s.offsetTop+s.offsetHeight+sf.popups.calculatePosition(i).top,l=o.firstElementChild;o.classList.add("e-nav-active"),sf.base.classList(l,["e-popup-up-icon"],["e-popup-down-icon"]),this.tbarPopupHandler(!0);var r=sf.base.isNullOrUndefined(window.scrollY)?0:window.scrollY;if(!this.options.isVertical&&window.innerHeight+r<n&&this.element.offsetTop<s.offsetHeight){var a=s.offsetHeight-(n-window.innerHeight-r+5);t.height=a+"px";for(var h=0;h<=s.childElementCount;h++){var p=s.children[h];if(p.offsetTop+p.offsetHeight>a){a=p.offsetTop;break}}sf.base.setStyleAttribute(t.element,{maxHeight:a+"px"})}else if(this.options.isVertical){var c=this.element.getBoundingClientRect();sf.base.setStyleAttribute(t.element,{maxHeight:c.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}t&&t.refreshPosition()},o.prototype.popupClose=function(e){var t=this.element.querySelector(".e-hor-nav"),s=t.firstElementChild;t.classList.remove("e-nav-active"),sf.base.classList(s,["e-popup-down-icon"],["e-popup-up-icon"]),this.tbarPopupHandler(!1)},o.prototype.checkPriority=function(e,t,o,n){for(var l,r=this.popupPriCount>0,a=o,h=0,p=0,c=0,f=function(e,t){var s=!1;return t.forEach((function(t){e.classList.contains(t)&&(s=!0)})),s},d=t.length-1;d>=0;d--){var b=void 0,u=window.getComputedStyle(t[d]);this.options.isVertical?(b=parseFloat(u.marginTop),b+=parseFloat(u.marginBottom)):(b=parseFloat(u.marginRight),b+=parseFloat(u.marginLeft));var m=t[d]===this.tbarEle[0];m&&(this.tbarEleMrgn=b),l=this.options.isVertical?t[d].offsetHeight:t[d].offsetWidth;var v=m?l+b:l;if(f(t[d],["e-popup-alone"])&&r&&(t[d].classList.add(i),this.options.isVertical?sf.base.setStyleAttribute(t[d],{display:"none",minHeight:v+"px"}):sf.base.setStyleAttribute(t[d],{display:"none",minWidth:v+"px"}),c++),this.options.isVertical?t[d].offsetTop+t[d].offsetHeight+b>o:t[d].offsetLeft+t[d].offsetWidth+b>o){if(t[d].classList.contains("e-separator")){if("Extended"===this.options.overflowMode){if(p===c)f(y=t[d],["e-separator","e-ignore"])&&(t[d].classList.add(i),c++);p++}else if("Popup"===this.options.overflowMode){var y;if(h>0&&p===c)f(y=t[d+p+(h-1)],["e-separator","e-ignore"])&&sf.base.setStyleAttribute(y,{display:"none"});h++,p=0,c=0}}else p++;t[d].classList.contains("e-overflow-show")&&n||f(t[d],["e-separator","e-ignore"])?o-=(this.options.isVertical?t[d].offsetHeight:t[d].offsetWidth)+b:(t[d].classList.add(i),this.options.isVertical?sf.base.setStyleAttribute(t[d],{display:"none",minHeight:v+"px"}):sf.base.setStyleAttribute(t[d],{display:"none",minWidth:v+"px"}),c++)}}if(n){var g=sf.base.selectAll("."+s+":not(."+i+")",this.element);this.checkPriority(e,g,a,!1)}},o.prototype.createPopupIcon=function(e){var t=e.id.concat("_nav"),s="e-"+e.id.concat("_nav e-hor-nav");s="Extended"===this.options.overflowMode?s+" e-expended-nav":s;var i=sf.base.createElement("div",{id:t,className:s});"msie"!==sf.base.Browser.info.name&&"edge"!==sf.base.Browser.info.name||i.classList.add("e-ie-align");var o=sf.base.createElement("div",{className:"e-popup-down-icon e-icons"});i.appendChild(o),i.setAttribute("tabindex","0"),i.setAttribute("role","list"),e.appendChild(i)},o.prototype.tbarPriRef=function(e,t,s,o,n,l,r,a){var h=a,p=this.popObj.element,c=sf.base.selectAll("."+i+":not(.e-overflow-show)",p).length,f=function(e,t){return e.classList.contains(t)};if(0===sf.base.selectAll(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){var d=e.children[t-(t-s)-1],b=!sf.base.isNullOrUndefined(d)&&f(d,"e-ignore");if(!sf.base.isNullOrUndefined(d)&&f(d,"e-separator")&&!sf.base.isVisible(d)||b){d.style.display="inherit";var u=d.offsetWidth+2*parseFloat(window.getComputedStyle(d).marginRight),m=d.previousElementSibling;l+u<r||n?(e.insertBefore(o,e.children[t+h-(t-s)]),sf.base.isNullOrUndefined(m)||(m.style.display="")):m.classList.contains("e-separator")&&(m.style.display="none"),d.style.display=""}else e.insertBefore(o,e.children[t+h-(t-s)])}else e.insertBefore(o,e.children[t+h-c])},o.prototype.popupRefresh=function(t,s){var i=this,o=this.element,n=this.options.isVertical,l=o.querySelector(".e-hor-nav"),r=o.querySelector("."+e);if(!sf.base.isNullOrUndefined(l)){var a;r.removeAttribute("style"),t.style.display="block",a=n?o.offsetHeight-(l.offsetHeight+r.offsetHeight):o.offsetWidth-(l.offsetWidth+r.offsetWidth);var h=0;[].slice.call(t.children).forEach((function(e){h+=i.popupEleWidth(e),sf.base.setStyleAttribute(e,{position:""})})),a+(n?l.offsetHeight:l.offsetWidth)>h&&0===this.popupPriCount&&(s=!0),this.popupEleRefresh(a,t,s),t.style.display="",0===t.children.length&&l&&this.popObj&&(sf.base.detach(l),l=null,this.popObj.destroy(),sf.base.detach(this.popObj.element),this.popObj=null,o.setAttribute("aria-haspopup","false"))}},o.prototype.ignoreEleFetch=function(e,t){var s=[].slice.call(t.querySelectorAll(".e-ignore")),i=[],o=0;return s.length>0?(s.forEach((function(e){i.push([].slice.call(t.children).indexOf(e))})),i.forEach((function(t){t<=e&&o++})),o):0},o.prototype.checkPopupRefresh=function(t,s){s.style.display="block";var i=this.popupEleWidth(s.firstElementChild);s.firstElementChild.style.removeProperty("Position");var o=t.offsetWidth-t.querySelector(".e-hor-nav").offsetWidth,n=t.querySelector("."+e).offsetWidth;return s.style.removeProperty("display"),o>i+n},o.prototype.popupEleWidth=function(e){e.style.position="absolute";var t=this.options.isVertical?e.offsetHeight:e.offsetWidth,s=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains("e-popup-text")){var i=e.children[0];!sf.base.isNullOrUndefined(s)&&e.classList.contains("e-popup-text")?s.style.display="none":!sf.base.isNullOrUndefined(s)&&e.classList.contains("e-toolbar-text")&&(s.style.display="block"),i.style.minWidth="0%",t=parseFloat(this.options.isVertical?e.style.minHeight:e.style.minWidth),i.style.minWidth="",i.style.minHeight="",sf.base.isNullOrUndefined(s)||(s.style.display="")}return t},o.prototype.popupEleRefresh=function(t,s,o){for(var n,l,r=this.popupPriCount>0,a=this.tbarEle,h=this.element.querySelector("."+e),p=0,c=function(s){if(s.classList.contains("e-popup-alone")&&r&&!o)return"continue";var c=f.popupEleWidth(s);if(s===f.tbarEle[0]&&(c+=f.tbarEleMrgn),s.style.position="",!(c<t||o))return"break";if(sf.base.setStyleAttribute(s,{minWidth:"",height:"",minHeight:""}),s.classList.contains("e-overflow-hide")||s.classList.remove(i),l=f.tbarEle.indexOf(s),f.tbarAlign){var d=f.options.items[l].align;l=f.tbarAlgEle[(d+"s").toLowerCase()].indexOf(s),a=f.tbarAlgEle[(d+"s").toLowerCase()],h=f.element.querySelector("."+e+" .e-toolbar-"+d.toLowerCase())}var b=0;"Extended"!==f.options.overflowMode&&a.slice(0,l).forEach((function(e){(e.classList.contains("e-overflow-show")||e.classList.contains("e-separator"))&&(e.classList.contains("e-separator")&&(e.style.display="",t-=e.offsetWidth),b++)})),p=f.ignoreEleFetch(l,h),s.classList.contains("e-overflow-show")?(f.tbarPriRef(h,l,b,s,o,c,t,p),t-=s.offsetWidth):0===l?(h.insertBefore(s,h.firstChild),t-=s.offsetWidth):(n=sf.base.selectAll(".e-overflow-show",f.popObj.element).length,h.insertBefore(s,h.children[l+p-n]),t-=s.offsetWidth),s.style.height=""},f=this,d=0,b=[].slice.call(s.children);d<b.length;d++){if("break"===c(b[d]))break}this.checkOverflow(this.element,this.element.getElementsByClassName(e)[0])&&!o&&this.renderOverflowMode()},o.prototype.removePositioning=function(){var t=this.element.querySelector("."+e);if(!sf.base.isNullOrUndefined(t)&&t.classList.contains("e-tbar-pos")){sf.base.removeClass([t],"e-tbar-pos");var s=[].slice.call(t.childNodes);s[1].removeAttribute("style"),s[2].removeAttribute("style")}},o.prototype.refreshPositioning=function(){var t=this.element.querySelector("."+e);sf.base.addClass([t],"e-tbar-pos"),this.itemPositioning()},o.prototype.itemPositioning=function(){var t,s=this.element.querySelector("."+e);if(!sf.base.isNullOrUndefined(s)&&s.classList.contains("e-tbar-pos")){var i,o=this.element.querySelector(".e-hor-nav");if(this.scrollModule){var n=this.options.isVertical?"e-vscroll-content":"e-hscroll-content";i=[].slice.call(s.querySelector("."+n).children)}else i=[].slice.call(s.childNodes);t=this.options.isVertical?i[0].offsetHeight+i[2].offsetHeight:i[0].offsetWidth+i[2].offsetWidth;var l=this.options.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(o){l-=this.options.isVertical?o.offsetHeight:o.offsetWidth;var r=(this.options.isVertical?o.offsetHeight:o.offsetWidth)+"px";i[2].removeAttribute("style"),this.options.isVertical?this.options.enableRtl?i[2].style.top=r:i[2].style.bottom=r:this.options.enableRtl?i[2].style.left=r:i[2].style.right=r}if(!(l<=t)){var a=(l-t-(this.options.isVertical?i[1].offsetHeight:i[1].offsetWidth))/2;i[1].removeAttribute("style");var h=(this.options.isVertical?i[0].offsetHeight:i[0].offsetWidth)+a+"px";this.options.isVertical?this.options.enableRtl?i[1].style.marginBottom=h:i[1].style.marginTop=h:this.options.enableRtl?i[1].style.marginRight=h:i[1].style.marginLeft=h}}},o.prototype.tbarItemAlign=function(e,t,s){var i=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var o=[];if(o.push(sf.base.createElement("div",{className:"e-toolbar-left"})),o.push(sf.base.createElement("div",{className:"e-toolbar-center"})),o.push(sf.base.createElement("div",{className:"e-toolbar-right"})),0===s&&"Left"!==e.align)o.forEach((function(e){t.appendChild(e)})),this.tbarAlign=!0,sf.base.addClass([t],"e-tbar-pos");else if("Left"!==e.align){var n=t.childNodes,l=o[0];[].slice.call(n).forEach((function(e){i.tbarAlgEle.lefts.push(e),l.appendChild(e)})),t.appendChild(l),t.appendChild(o[1]),t.appendChild(o[2]),this.tbarAlign=!0,sf.base.addClass([t],"e-tbar-pos")}}},o.prototype.renderItems=function(){var t=this.element,s=this.options.items;if(t&&s.length>0){var i=t.querySelector("."+e);i||(i=sf.base.createElement("div",{className:e})),this.itemsAlign(s,i),sf.base.isNullOrUndefined(t.firstElementChild)?t.appendChild(i):t.insertBefore(i,t.firstElementChild)}},o.prototype.setAttr=function(e,t){for(var s,i=Object.keys(e),o=0;o<i.length;o++)"class"===(s=i[o])?sf.base.addClass([t],e[s]):t.setAttribute(s,e[s])},o.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},o.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},o.prototype.activeEleRemove=function(e){sf.base.isNullOrUndefined(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,sf.base.isNullOrUndefined(this.trgtEle)&&!e.parentElement.classList.contains("e-template")?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")},o.prototype.resize=function(){var t=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.options.overflowMode&&this.popObj.hide();var s=this.checkOverflow(t,t.getElementsByClassName(e)[0]);if(!s){this.destroyScroll();var i=t.querySelector("."+e);sf.base.isNullOrUndefined(i)||(sf.base.removeClass([i],"e-multirow-pos"),this.tbarAlign&&sf.base.addClass([i],"e-tbar-pos"))}if(!s||!this.scrollModule||this.offsetWid!==t.offsetWidth){if((this.offsetWid>t.offsetWidth||s)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.options.overflowMode){var o=window.getComputedStyle(this.element);this.popObj.width=parseFloat(o.width)+2*parseFloat(o.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.offsetWid=t.offsetWidth,this.tbResize=!1,this.separator()}},o.prototype.extendedOpen=function(){var e=this.element.querySelector(".e-toolbar-extended");"Extended"===this.options.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains("e-popup-open"))},o.prototype.disable=function(e){var t=this.element;e?t.classList.add("e-overlay"):t.classList.remove("e-overlay"),t.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(sf.base.isVisible(this.popObj.element)&&"Extended"!==this.options.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},o.prototype.setCssClass=function(e){this.extendedOpen(),this.options.cssClass&&sf.base.removeClass([this.element],this.options.cssClass.split(" ")),e&&sf.base.addClass([this.element],e.split(" ")),this.options.cssClass=e},o}();return{initialize:function(e,t,s){0===t.scrollStep&&(t.scrollStep=null);var i=new o(e,t,s);i.render(),i.dotNetRef.invokeMethodAsync("CreatedEvent",null)},hidePopup:function(e){e&&e.blazor__instance&&!sf.base.isNullOrUndefined(e.blazor__instance.popObj)&&e.blazor__instance.popObj.hide({name:"FadeOut",duration:100})},setCssClass:function(e,t){e.blazor__instance&&e.blazor__instance.setCssClass(t)},setWidth:function(e,t){if(e.blazor__instance){e.blazor__instance.options.width=t,e.blazor__instance.extendedOpen();var s=e.offsetWidth;sf.base.setStyleAttribute(e,{width:sf.base.formatUnit(t)}),e.blazor__instance.renderOverflowMode(),e.blazor__instance.popObj&&s<e.offsetWidth&&e.blazor__instance.popupRefresh(e.blazor__instance.popObj.element,!1)}},setHeight:function(e,t){e.blazor__instance&&(e.blazor__instance.options.height=t,e.blazor__instance.extendedOpen(),sf.base.setStyleAttribute(e,{height:sf.base.formatUnit(t)}))},setOverflowMode:function(e,t){e.blazor__instance&&(e.blazor__instance.options.overflowMode=t,e.blazor__instance.extendedOpen(),e.blazor__instance.destroyMode(),e.blazor__instance.renderOverflowMode(),e.blazor__instance.options.enableRtl&&sf.base.addClass([e],"e-rtl"),e.blazor__instance.refreshOverflow())},setEnableRTL:function(e,t){e.blazor__instance&&(e.blazor__instance.options.enableRtl=t,e.blazor__instance.extendedOpen(),t?sf.base.addClass([e],"e-rtl"):sf.base.removeClass([e],"e-rtl"),sf.base.isNullOrUndefined(e.blazor__instance.scrollModule)||(t?sf.base.addClass([e.blazor__instance.scrollModule.element],"e-rtl"):sf.base.removeClass([e.blazor__instance.scrollModule.element],"e-rtl")),sf.base.isNullOrUndefined(e.blazor__instance.popObj)||(t?sf.base.addClass([e.blazor__instance.popObj.element],"e-rtl"):sf.base.removeClass([e.blazor__instance.popObj.element],"e-rtl")),e.blazor__instance.tbarAlign&&e.blazor__instance.itemPositioning())},setScrollStep:function(e,t){e.blazor__instance&&(e.blazor__instance.options.scrollStep=t,e.blazor__instance.extendedOpen(),e.blazor__instance.scrollModule&&(e.blazor__instance.scrollModule.scrollStep=t))},setEnableCollision:function(e,t){e.blazor__instance&&(e.blazor__instance.options.enableCollision=t,e.blazor__instance.extendedOpen(),e.blazor__instance.popObj&&(e.blazor__instance.popObj.collision={Y:t?"flip":"none"}))},setAllowKeyboard:function(e,t){e.blazor__instance&&(e.blazor__instance.options.allowKeyboard=t,e.blazor__instance.extendedOpen(),e.blazor__instance.unwireKeyboardEvent(),t&&e.blazor__instance.wireKeyboardEvent())},serverItemsRerender:function(e,t){!sf.base.isNullOrUndefined(e)&&e.blazor__instance&&(e.blazor__instance.options.items=t,e.blazor__instance.destroyMode(),e.blazor__instance.resetServerItems(),e.blazor__instance.serverItemsRefresh())},hideItem:function(e,t){e.blazor__instance&&(e.blazor__instance.options.items=t,e.blazor__instance.refreshOverflow())},disable:function(e,t){e.blazor__instance&&e.blazor__instance.disable(t)},refreshOverflow:function(e){e.blazor__instance&&e.blazor__instance.refreshOverflow()},destroy:function(e){e.blazor__instance&&e.blazor__instance.destroy()},refresh:function(e,t){0===t.scrollStep&&(t.scrollStep=null),e.blazor__instance&&(e.blazor__instance.options=t,e.blazor__instance.destroyMode(),e.blazor__instance.resetServerItems(),e.blazor__instance.serverItemsRefresh())}}}()}}]);