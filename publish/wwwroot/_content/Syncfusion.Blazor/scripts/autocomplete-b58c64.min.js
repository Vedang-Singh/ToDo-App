(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./bundles/autocomplete.js":function(e,t,i){"use strict";i.r(t);var o=i("../node_modules/@babel/runtime/helpers/typeof.js"),r=i.n(o);window.sf=window.sf||{};sfBlazor.modules.autocomplete="dropdowns.AutoComplete",sfBlazor.loadDependencies(sfBlazor.dependencyJson.autocomplete,(function(){sf.dropdowns=sf.base.extend({},sf.dropdowns,function(e){var t,i=(t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,i)},function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),o=function(e,t,i,o){var s,n=arguments.length,p=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===("undefined"==typeof Reflect?"undefined":r()(Reflect))&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,i,o);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(p=(n<3?s(p):n>3?s(t,i,p):s(t,i))||p);return n>3&&p&&Object.defineProperty(t,i,p),p};sf.dropdowns.dropDownListClasses.root="e-autocomplete",sf.dropdowns.dropDownListClasses.icon="e-input-group-icon e-ddl-icon e-search-icon";var s=function(e){function t(t,i){var o=e.call(this,t,i)||this;return o.isFiltered=!1,o}return i(t,e),t.prototype.preRender=function(){e.prototype.preRender.call(this)},t.prototype.getLocaleName=function(){return"auto-complete"},t.prototype.getNgDirective=function(){return"EJS-AUTOCOMPLETE"},t.prototype.getQuery=function(e){var t=e?e.clone():this.query?this.query.clone():new sf.data.Query,i=""!==this.queryString||sf.base.isNullOrUndefined(this.value)?this.filterType:"equal",o=""!==this.queryString||sf.base.isNullOrUndefined(this.value)?this.queryString:this.value;if(this.isFiltered)return t;if(null!==this.queryString){var r=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof sf.data.DataManager||"string"!==r)&&"number"!==r){var s=sf.base.isNullOrUndefined(this.fields.value)?"":this.fields.value;t.where(s,i,o,this.ignoreCase,this.ignoreAccent)}else t.where("",i,o,this.ignoreCase,this.ignoreAccent)}if(!sf.base.isNullOrUndefined(this.suggestionCount)){if(20!==this.suggestionCount)for(var n=0;n<t.queries.length;n++)"onTake"===t.queries[n].fn&&t.queries.splice(n,1);t.take(this.suggestionCount)}return t},t.prototype.searchLists=function(t){var i=this;if(this.isTyped=!0,this.isDataFetched=this.isSelectCustom=!1,this.isServerBlazor)this.beforePopupOpen=this.isFiltering()&&!this.beforePopupOpen?!this.beforePopupOpen:this.beforePopupOpen,this.queryString=this.filterInput.value,""!==this.queryString&&this.queryString.length>=this.minLength?this.interopAdaptor.invokeMethodAsync("OnServerFilter",this.filterInput.value):this.hidePopup();else{if(sf.base.isNullOrUndefined(this.list)&&e.prototype.renderList.call(this,!0),this.queryString=this.filterInput.value,40===t.keyCode||38===t.keyCode)return this.queryString=""===this.queryString?null:this.queryString,this.beforePopupOpen=!0,void this.resetList(this.dataSource,this.fields);this.isSelected=!1,this.activeIndex=null;var o={preventDefaultAction:!1,text:this.filterInput.value,updateData:function(e,t,r){o.cancel||(i.isFiltered=!0,i.filterAction(e,t,r))},cancel:!1};this.trigger("filtering",o,(function(e){e.cancel||i.isFiltered||e.preventDefaultAction||i.filterAction(i.dataSource,null,i.fields)}))}},t.prototype.filter=function(e,t,i){this.isFiltered=!0,this.filterAction(e,t,i)},t.prototype.filterAction=function(e,t,i){this.beforePopupOpen=!0,""!==this.queryString&&this.queryString.length>=this.minLength?this.resetList(e,i,t):this.hidePopup()},t.prototype.clearAll=function(t,i){(sf.base.isNullOrUndefined(i)||!sf.base.isNullOrUndefined(i)&&sf.base.isNullOrUndefined(i.dataSource))&&e.prototype.clearAll.call(this,t),this.beforePopupOpen&&this.hidePopup()},t.prototype.onActionComplete=function(t,i,o,r){this.fixedHeaderElement=null,e.prototype.onActionComplete.call(this,t,i,o);var s=this.list.querySelector("."+sf.dropdowns.dropDownListClasses.li);sf.base.isNullOrUndefined(s)||sf.base.removeClass([s],sf.dropdowns.dropDownListClasses.focus),this.postBackAction()},t.prototype.postBackAction=function(){if(this.autofill&&!sf.base.isNullOrUndefined(this.liCollections[0])){var t=[this.liCollections[0]],i=sf.dropdowns.Search(this.inputElement.value,t,"StartsWith",this.ignoreCase);sf.base.isNullOrUndefined(i.item)||e.prototype.setAutoFill.call(this,this.liCollections[0],!0)}},t.prototype.setSelection=function(t,i){if(this.isValidLI(t))if(!sf.base.isNullOrUndefined(i)&&"keydown"===i.type&&"enter"!==i.action&&"tab"!==i.action&&this.isValidLI(t)){var o=this.getFormattedValue(t.getAttribute("data-value"));this.activeIndex=this.getIndexByValue(o),this.isServerBlazor&&this.removeHover(),this.setHoverList(t),this.selectedLI=t,this.setScrollPosition(i),this.autofill&&(this.preventAutoFill=!1,e.prototype.setAutoFill.call(this,t)),sf.base.attributes(this.inputElement,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})}else e.prototype.setSelection.call(this,t,i)},t.prototype.listOption=function(t,i){var o=this,r=e.prototype.listOption.call(this,t,i);if(sf.base.isNullOrUndefined(r.itemCreated))r.itemCreated=function(e){o.highlight&&(o.element.tagName===o.getNgDirective()&&o.itemTemplate?setTimeout((function(){sf.dropdowns.highlightSearch(e.item,o.queryString,o.ignoreCase,o.filterType)}),0):sf.dropdowns.highlightSearch(e.item,o.queryString,o.ignoreCase,o.filterType))};else{var s=r.itemCreated;r.itemCreated=function(e){o.highlight&&sf.dropdowns.highlightSearch(e.item,o.queryString,o.ignoreCase,o.filterType),s.apply(o,[e])}}return r},t.prototype.isFiltering=function(){return!0},t.prototype.renderPopup=function(){this.list.scrollTop=0,e.prototype.renderPopup.call(this)},t.prototype.isEditTextBox=function(){return""!==this.inputElement.value.trim()},t.prototype.isPopupButton=function(){return this.showPopupButton},t.prototype.isSelectFocusItem=function(e){return!1},t.prototype.showPopup=function(){this.enabled&&(!this.beforePopupOpen||this.isServerBlazor?(this.beforePopupOpen=!0,this.preventAutoFill=!0,sf.base.isNullOrUndefined(this.list)||this.isServerBlazor?this.renderList():this.resetList(this.dataSource,this.fields)):this.refreshPopup())},t.prototype.hidePopup=function(){this.DropDownBaseresetBlazorTemplates(!0,!1,!1,!1),e.prototype.hidePopup.call(this),this.activeIndex=-1},t.prototype.onPropertyChanged=function(t,i){"autocomplete"===this.getModuleName()&&this.setUpdateInitial(["fields","query","dataSource"],t);for(var o=0,r=Object.keys(t);o<r.length;o++){var s=r[o];switch(s){case"showPopupButton":if(this.showPopupButton){if(this.isServerBlazor){if(this.inputWrapper&&this.inputWrapper.container){n=this.inputWrapper.container.querySelector(".e-input-group-icon.e-ddl-icon");this.inputWrapper.buttons[0]=n}}else{var n=sf.inputs.Input.appendSpan(sf.dropdowns.dropDownListClasses.icon,this.inputWrapper.container,this.createElement);this.inputWrapper.buttons[0]=n}this.inputWrapper&&this.inputWrapper.buttons&&this.inputWrapper.buttons[0]&&sf.base.EventHandler.add(this.inputWrapper.buttons[0],"click",this.dropDownClick,this)}else this.isServerBlazor||(sf.base.detach(this.inputWrapper.buttons[0]),this.inputWrapper.buttons[0]=null);break;default:var p;p=this.getPropObject(s,t,i),e.prototype.onPropertyChanged.call(this,p.newProperty,p.oldProperty)}}},t.prototype.renderHightSearch=function(){if(this.highlight)for(var e=0;e<this.liCollections.length;e++){this.ulElement.querySelector(".e-active")||(sf.dropdowns.revertHighlightSearch(this.liCollections[e]),sf.dropdowns.highlightSearch(this.liCollections[e],this.queryString,this.ignoreCase,this.filterType,this.isServerBlazor))}},t.prototype.getModuleName=function(){return"autocomplete"},t.prototype.render=function(){e.prototype.render.call(this)},o([sf.base.Complex({value:null,iconCss:null,groupBy:null},sf.dropdowns.FieldSettings)],t.prototype,"fields",void 0),o([sf.base.Property(!0)],t.prototype,"ignoreCase",void 0),o([sf.base.Property(!1)],t.prototype,"showPopupButton",void 0),o([sf.base.Property(!1)],t.prototype,"highlight",void 0),o([sf.base.Property(20)],t.prototype,"suggestionCount",void 0),o([sf.base.Property({})],t.prototype,"htmlAttributes",void 0),o([sf.base.Property(null)],t.prototype,"query",void 0),o([sf.base.Property(1)],t.prototype,"minLength",void 0),o([sf.base.Property("Contains")],t.prototype,"filterType",void 0),o([sf.base.Event()],t.prototype,"filtering",void 0),o([sf.base.Property(null)],t.prototype,"index",void 0),o([sf.base.Property("Never")],t.prototype,"floatLabelType",void 0),o([sf.base.Property(null)],t.prototype,"valueTemplate",void 0),o([sf.base.Property(null)],t.prototype,"filterBarPlaceholder",void 0),o([sf.base.Property(!1)],t.prototype,"allowFiltering",void 0),o([sf.base.Property(null)],t.prototype,"text",void 0),t=o([sf.base.NotifyPropertyChanges],t)}(sf.dropdowns.ComboBox);return e.AutoComplete=s,e}({}))}))}}]);