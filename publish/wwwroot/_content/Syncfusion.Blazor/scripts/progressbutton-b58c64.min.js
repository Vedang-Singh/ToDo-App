(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{"./bundles/progressbutton.js":function(e,t,s){"use strict";s.r(t);var i=s("../node_modules/@babel/runtime/helpers/typeof.js"),n=s.n(i);window.sf=window.sf||{};sfBlazor.modules.progressbutton="splitbuttons.ProgressButton",sfBlazor.loadDependencies(sfBlazor.dependencyJson.progressbutton,(function(){var e,t,s,i,o,r,a,p;sf.splitbuttons=sf.base.extend({},sf.splitbuttons,(e={},t=function(e,s){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,s)},s=function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)},i=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===("undefined"==typeof Reflect?"undefined":n()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a},o="e-btn-content",r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),i([sf.base.Property(null)],t.prototype,"template",void 0),i([sf.base.Property(16)],t.prototype,"width",void 0),i([sf.base.Property("Left")],t.prototype,"position",void 0),t}(sf.base.ChildProperty),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),i([sf.base.Property(400)],t.prototype,"duration",void 0),i([sf.base.Property("None")],t.prototype,"effect",void 0),i([sf.base.Property("ease")],t.prototype,"easing",void 0),t}(sf.base.ChildProperty),p=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.step=1,i}return s(t,e),t.prototype.preRender=function(){e.prototype.preRender.call(this)},t.prototype.render=function(){sf.base.isBlazor()&&(this.isServerRendered=!1),e.prototype.render.call(this),this.init(),this.wireEvents(),this.setAria(),this.renderComplete()},t.prototype.start=function(e){this.isPaused=!1,this.startProgress(e||this.percent,this.progressTime)},t.prototype.stop=function(){this.isPaused=!0,cancelAnimationFrame(this.timerId)},t.prototype.progressComplete=function(){this.isPaused=!1,this.finishProgress()},t.prototype.getModuleName=function(){return"progress-btn"},t.prototype.destroy=function(){var t=this,s=["e-hide-spinner","e-progress-active","e-round-corner","e-"+e.prototype.getModuleName.call(this),"e-spin-"+this.spinSettings.position.toLowerCase()];e.prototype.destroy.call(this),this.unWireEvents(),this.element.innerHTML="",this.cssClass&&(s=s.concat(this.cssClass.split(" "))),sf.base.removeClass([this.element],s),(this.element.getAttribute("class")?["aria-label","aria-valuemin","aria-valuemax","aria-valuenow"]:["aria-label","aria-valuemin","aria-valuemax","aria-valuenow","class"]).forEach((function(e){t.element.removeAttribute(e)})),this.disabled&&this.element.removeAttribute("disabled")},t.prototype.init=function(){this.element.classList.add("e-"+e.prototype.getModuleName.call(this)),this.setContent(),this.createSpinner(),this.enableProgress&&this.createProgress()},t.prototype.createSpinner=function(){var e=this.createElement("span",{className:"e-spinner"});this.setSpinPosition(e),sf.popups.createSpinner({target:e,width:this.spinSettings.width||16,template:this.spinSettings.template},this.createElement)},t.prototype.getSpinner=function(){return this.element.getElementsByClassName("e-spinner")[0]},t.prototype.getProgress=function(){return this.element.getElementsByClassName("e-progress")[0]},t.prototype.setSpinPosition=function(e){var t=this.spinSettings.position||"Left";"Left"===t||"Top"===t?this.element.insertBefore(e,this.element.getElementsByClassName(o)[0]):this.element.appendChild(e),this.element.classList.add("e-spin-"+t.toLowerCase())},t.prototype.createProgress=function(){this.element.appendChild(this.createElement("span",{className:"e-progress"}))},t.prototype.setContent=function(){var e;sf.base.isBlazor()?(e=this.content,this.enableHtmlSanitizer&&(e=sf.base.SanitizeHtmlHelper.sanitize(this.content)),this.setContentIcon(e)):(e=this.element.innerHTML,this.enableHtmlSanitizer&&(e=sf.base.SanitizeHtmlHelper.sanitize(this.element.innerHTML)),this.element.innerHTML="",this.element.appendChild(this.createElement("span",{className:o,innerHTML:e})))},t.prototype.setContentIcon=function(e){var t=this.createElement("span",{className:o,innerHTML:e});if(this.iconCss){var s=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(s.classList.add("e-icon-"+this.iconPosition.toLowerCase()),"Top"!==this.iconPosition&&"Bottom"!==this.iconPosition||this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");var i=t.childNodes[0];!i||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?t.appendChild(s):t.insertBefore(s,i)}this.element.appendChild(t)},t.prototype.clickHandler=function(){this.element.classList.contains("e-progress-active")||this.startProgress()},t.prototype.startProgress=function(e,t){var s=this.element.classList,i=s.contains("e-vertical");s.add("e-progress-active"),s.contains("e-hide-spinner")||sf.popups.showSpinner(this.element),this.startAnimate(Date.now(),t||0,t?Date.now()-1*this.duration/100:Date.now(),e||0,0,this.step,0,i),this.startContAnimate()},t.prototype.startAnimate=function(e,t,s,i,n,o,r,a){var p=this;try{var l,c=e-s,h=this.duration*o/100,d=c?c<h?c-h:c%h:0;this.progressTime=t=t+c-d,s=e-d,i+=(c-d)/this.duration*100,l={percent:n=(t-r)%h==0||100===i?i:n,currentDuration:t,step:o},this.eIsVertical=a,0===i?this.trigger("begin",l,(function(e){p.successCallback(e,i,n,t,r,d,s)})):100===i||t===this.duration?this.trigger("end",l,(function(e){p.successCallback(e,i,n,t,r,d,s)})):this.trigger("progress",l,(function(e){p.successCallback(e,i,n,t,r,d,s)}))}catch(e){cancelAnimationFrame(this.timerId),this.trigger("fail",e)}},t.prototype.successCallback=function(e,t,s,i,n,o,r){var a=this,p=t,l=s,c=o,h=i,d=n,f=r,u=this.eIsVertical;p!==e.percent&&e.percent!==l&&(p=e.percent),this.percent=p,this.step=e.step,(h-d)%(this.duration*e.step/100)!=0&&100!==p||(this.timerId=requestAnimationFrame((function(){a.enableProgress&&(a.getProgress().style[u?"height":"width"]=p+"%"),a.element.setAttribute("aria-valuenow",p.toString())})),l=p,d=h),this.isPaused||(h<this.duration&&p<100?this.interval=window.setTimeout((function(){a.startAnimate(Date.now(),h,f,p,l,e.step,d,u)}),this.duration/100-c):this.interval=window.setTimeout((function(){a.progressTime=a.percent=0,a.enableProgress&&(a.getProgress().style[u?"height":"width"]="0%"),a.element.setAttribute("aria-valuenow","0"),a.hideSpin()}),100))},t.prototype.startContAnimate=function(){var e=this,t=this.element.getElementsByClassName(o)[0];"None"!==this.animationSettings.effect?new sf.base.Animation({}).animate(t,{duration:this.animationSettings.duration,name:"Progress"+this.animationSettings.effect,timingFunction:this.animationSettings.easing,begin:function(){"Center"===e.spinSettings.position&&e.setSpinnerSize()},end:function(){t.classList.add("e-animate-end")}}):"Center"===this.spinSettings.position&&this.setSpinnerSize()},t.prototype.finishProgress=function(){var e,t=this.element.classList,s=t.contains("e-vertical");t.add("e-progress-active");for(var i=this.percent;i<100;i++)(i+=10)>100&&(i=100),this.enableProgress&&(this.getProgress().style[s?"height":"width"]=this.percent<100?i+"%":"100%");this.element.setAttribute("aria-valuenow","0"),this.hideSpin(),e={step:this.step,currentDuration:this.progressTime,percent:100},clearTimeout(this.interval),this.trigger("end",e),this.progressTime=this.percent=0},t.prototype.setSpinnerSize=function(){var e=this.element.getElementsByClassName(o)[0],t=this.getSpinner();t.style.width=Math.max(t.offsetWidth,e.offsetWidth)+"px",t.style.height=Math.max(t.offsetHeight,e.offsetHeight)+"px",e.classList.add("e-cont-animate")},t.prototype.hideSpin=function(){var e=this.element.getElementsByClassName(o)[0];if(this.element.classList.contains("e-hide-spinner")||sf.popups.hideSpinner(this.element),this.element.classList.remove("e-progress-active"),"None"!==this.animationSettings.effect&&e.classList.remove("e-animate-end"),"Center"===this.spinSettings.position){var t=this.getSpinner();e.classList.remove("e-cont-animate"),t.style.width="auto",t.style.height="auto"}},t.prototype.setIconSpan=function(){var e=this.element.getElementsByClassName(o)[0],t=this.element.getElementsByClassName("e-btn-icon")[0];!e.childNodes[0]||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?e.appendChild(t):e.insertBefore(t,e.childNodes[0])},t.prototype.setAria=function(){sf.base.attributes(this.element,{"aria-label":this.element.textContent+" progress","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0"})},t.prototype.wireEvents=function(){sf.base.EventHandler.add(this.element,"click",this.clickHandler,this)},t.prototype.unWireEvents=function(){sf.base.EventHandler.remove(this.element,"click",this.clickHandler)},t.prototype.onPropertyChanged=function(t,s){var i=this.element;e.prototype.onPropertyChanged.call(this,t,s);for(var n=0,o=Object.keys(t);n<o.length;n++)switch(o[n]){case"content":if(sf.base.isBlazor()){var r=this.element.querySelector(".e-btn-content");this.iconCss?"Left"===this.iconPosition||"Top"===this.iconPosition?r.childNodes[1].textContent=this.content:r.childNodes[0].textContent=this.content:r.textContent=this.content}else this.setContent(),this.createSpinner(),this.enableProgress&&this.createProgress();i.setAttribute("aria-label",i.textContent+" progress");break;case"iconCss":s.iconCss||this.setIconSpan();break;case"iconPosition":this.setIconSpan();break;case"enableProgress":t.enableProgress?this.createProgress():sf.base.remove(this.getProgress());break;case"spinSettings":t.spinSettings.position&&(i.classList.remove("e-spin-"+s.spinSettings.position.toLowerCase()),this.setSpinPosition(this.getSpinner())),(t.spinSettings.template||t.spinSettings.width)&&(i.removeChild(this.getSpinner()),this.createSpinner())}},t.prototype.focusIn=function(){this.element.focus()},i([sf.base.Property(!1)],t.prototype,"enableProgress",void 0),i([sf.base.Property(2e3)],t.prototype,"duration",void 0),i([sf.base.Property("Left")],t.prototype,"iconPosition",void 0),i([sf.base.Property("")],t.prototype,"iconCss",void 0),i([sf.base.Property(!1)],t.prototype,"disabled",void 0),i([sf.base.Property(!1)],t.prototype,"isPrimary",void 0),i([sf.base.Property("")],t.prototype,"cssClass",void 0),i([sf.base.Property("")],t.prototype,"content",void 0),i([sf.base.Property(!1)],t.prototype,"isToggle",void 0),i([sf.base.Property(!1)],t.prototype,"enableHtmlSanitizer",void 0),i([sf.base.Complex({},r)],t.prototype,"spinSettings",void 0),i([sf.base.Complex({},a)],t.prototype,"animationSettings",void 0),i([sf.base.Event()],t.prototype,"created",void 0),i([sf.base.Event()],t.prototype,"begin",void 0),i([sf.base.Event()],t.prototype,"progress",void 0),i([sf.base.Event()],t.prototype,"end",void 0),i([sf.base.Event()],t.prototype,"fail",void 0),t=i([sf.base.NotifyPropertyChanges],t)}(sf.buttons.Button),e.SpinSettings=r,e.AnimationSettings=a,e.ProgressButton=p,e))}))}}]);