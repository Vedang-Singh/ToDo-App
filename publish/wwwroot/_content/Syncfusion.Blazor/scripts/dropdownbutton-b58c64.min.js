(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"./bundles/dropdownbutton.js":function(e,t,s){"use strict";s.r(t);var n=s("../node_modules/@babel/runtime/helpers/typeof.js"),o=s.n(n);window.sf=window.sf||{};sfBlazor.modules.dropdownbutton="splitbuttons.DropDownButton",sfBlazor.loadDependencies(sfBlazor.dependencyJson.dropdownbutton,(function(){var e,t,s,n,i,r,a,l,p,c;sf.splitbuttons=sf.base.extend({},sf.splitbuttons,(e={},t=function(e,s){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,s)},s=function(e,s){function n(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(n.prototype=s.prototype,new n)},n=function(e,t,s,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===("undefined"==typeof Reflect?"undefined":o()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(r<3?i(a):r>3?i(t,s,a):i(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a},i="e-menu-icon",r="e-item",a="e-dropdown-popup",l="e-separator",p="e-vertical",c=function(e){function t(t,s){return e.call(this,t,s)||this}return s(t,e),t.prototype.preRender=function(){},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.toggle=function(){this.canOpen()?this.openPopUp():this.closePopup()},t.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()},t.prototype.addItems=function(e,t){for(var s,n=this.items.length,o=0,i=this.items.length;o<i;o++)if(t===this.items[o].text){n=o;break}for(var r=e.length-1;r>=0;r--)s=new sf.splitbuttons.Item(this,"items",e[r],!0),this.items.splice(n,0,s);this.canOpen()||this.createItems()},t.prototype.removeItems=function(e){for(var t=0,s=e.length;t<s;t++)for(var n=0,o=this.items.length;n<o;n++)if(e[t]===this.items[n].text){this.items.splice(n,1);break}this.canOpen()||this.createItems()},t.prototype.createPopup=function(){var e,t=this.createElement("div",{className:a,id:this.element.id+"-popup"});document.body.appendChild(t),this.dropDown=new sf.popups.Popup(t,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),sf.base.attributes(this.element,((e={})["aria-haspopup"]=this.items.length||this.target?"true":"false",e["aria-expanded"]="false",e["aria-owns"]=this.getPopUpElement().id,e.type="button",e["aria-label"]=this.element.textContent+" dropdownbutton",e)),this.cssClass&&sf.base.addClass([t],this.cssClass.split(" "))},t.prototype.getTargetElement=function(){return"string"==typeof this.target?sf.base.select(this.target):this.target},t.prototype.createItems=function(e){var t,s,n,o,a=this.items,p=this.hasIcon(this.items,"iconCss"),c=this.getULElement();c?c.innerHTML="":c=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(var d=0;d<a.length;d++){s=a[d];var h=this.enableHtmlSanitizer?sf.base.SanitizeHtmlHelper.sanitize(s.text):s.text;n=this.createElement("li",{innerHTML:s.url?"":h,className:s.separator?r+" "+l:r,attrs:{role:"menuItem",tabindex:"-1"},id:s.id?s.id:sf.base.getUniqueID("e-"+this.getModuleName()+"-item")}),s.url&&(n.appendChild(this.createAnchor(s)),n.classList.add("e-url")),s.iconCss?(t=this.createElement("span",{className:i+" "+s.iconCss}),s.url?n.childNodes[0].appendChild(t):n.insertBefore(t,n.childNodes[0])):p&&!s.separator&&n.classList.add("e-blank-icon"),o={item:s,element:n},this.trigger("beforeItemRender",o),c.appendChild(n)}if(e&&this.getPopUpElement().appendChild(c),p){var f,m=[].slice.call(this.getPopUpElement().getElementsByClassName("e-blank-icon")),u=this.getPopUpElement().querySelector(".e-item:not(.e-blank-icon)"),b=u.querySelector(".e-menu-icon");f=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};var y=parseInt(getComputedStyle(b).fontSize,10)+parseInt((this.enableRtl,getComputedStyle(b)[f.margin]),10)+parseInt(getComputedStyle(u).paddingLeft,10)+"px";m.forEach((function(e){e.style[f.padding]=y}))}},t.prototype.hasIcon=function(e,t){for(var s=0,n=e.length;s<n;s++)if(e[s][t])return!0;return!1},t.prototype.createAnchor=function(e){var t=this.enableHtmlSanitizer?sf.base.SanitizeHtmlHelper.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:t,attrs:{href:e.url}})},t.prototype.initialize=function(){this.button=new sf.buttons.Button({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=sf.base.getUniqueID("e-"+this.getModuleName())),this.appendArrowSpan(),this.createPopup(),this.setActiveElem([this.element])},t.prototype.appendArrowSpan=function(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf(p)>-1?"bottom":"right")+" e-caret"}))},t.prototype.setActiveElem=function(e){this.activeElem=e},t.prototype.getModuleName=function(){return"dropdown-btn"},t.prototype.canOpen=function(){return this.getPopUpElement().classList.contains("e-popup-close")},t.prototype.destroy=function(){var t=this;if(e.prototype.destroy.call(this),"dropdown-btn"===this.getModuleName()){var s;this.element.querySelector("span.e-caret")&&sf.base.detach(this.element.querySelector("span.e-caret")),this.cssClass&&(s=this.cssClass.split(" ")),this.button.destroy(),s&&sf.base.removeClass([this.element],s),sf.base.removeClass(this.activeElem,["e-active"]),(this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"]).forEach((function(e){t.element.removeAttribute(e)})),this.dropDown.destroy();var n=document.getElementById(this.getPopUpElement().id);n&&(sf.base.removeClass([n],["e-popup-open","e-popup-close"]),sf.base.detach(n)),this.disabled||this.unWireEvents()}},t.prototype.getPopUpElement=function(){return this.dropDown.element},t.prototype.getULElement=function(){return this.getPopUpElement().children[0]},t.prototype.wireEvents=function(){var e=this.getPopUpElement();this.delegateMousedownHandler=this.mousedownHandler.bind(this),sf.base.EventHandler.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),sf.base.EventHandler.add(this.element,"click",this.clickHandler,this),sf.base.EventHandler.add(e,"click",this.clickHandler,this),sf.base.EventHandler.add(this.element,"keydown",this.keyBoardHandler,this),sf.base.EventHandler.add(e,"keydown",this.keyBoardHandler,this),this.rippleFn=sf.base.rippleEffect(e,{selector:"."+r})},t.prototype.keyBoardHandler=function(e){if(e.target!==this.element||9!==e.keyCode&&(e.altKey||40!==e.keyCode)&&38!==e.keyCode)switch(e.keyCode){case 38:case 40:!e.altKey||38!==e.keyCode&&40!==e.keyCode?this.upDownKeyHandler(e):this.keyEventHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e)}},t.prototype.upDownKeyHandler=function(e){(!this.target||38!==e.keyCode&&40!==e.keyCode)&&(e.preventDefault(),sf.splitbuttons.upDownKeyHandler(this.getULElement(),e.keyCode))},t.prototype.keyEventHandler=function(e){(!this.target||13!==e.keyCode&&9!==e.keyCode)&&(9!==e.keyCode&&e.preventDefault(),27===e.keyCode||38===e.keyCode||9===e.keyCode?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e))},t.prototype.getLI=function(e){return"LI"===e.tagName?e:sf.base.closest(e,"li")},t.prototype.mousedownHandler=function(e){var t=e.target;this.canOpen()||sf.base.closest(t,"#"+this.getPopUpElement().id)||sf.base.closest(t,"#"+this.element.id)||this.closePopup(e)},t.prototype.clickHandler=function(e){var t=e.target,s=this.canOpen();if(sf.base.closest(t,"#"+this.element.id))s?this.openPopUp(e):this.closePopup(e,this.activeElem[0]);else if(sf.base.closest(t,"#"+this.getPopUpElement().id)){var n=void 0,o=void 0,i=void 0,r=this.getLI(t);r&&(o=Array.prototype.indexOf.call(this.getULElement().children,r),(i=this.items[o])&&(n={element:r,item:i},this.trigger("select",n)),this.closePopup(e,this.activeElem[0]))}},t.prototype.openPopUp=function(e){var t=this;void 0===e&&(e=null),this.target||this.createItems(!0);var s={element:this.getULElement(),items:this.items,event:e,cancel:!1};this.trigger("beforeOpen",s,(function(e){if(!e.cancel){var s=t.getULElement();t.dropDown.show(null,t.element),sf.base.addClass([t.element],"e-active"),t.element.setAttribute("aria-expanded","true"),s.focus();var n={element:s,items:t.items};t.trigger("open",n)}}))},t.prototype.closePopup=function(e,t){var s=this;void 0===e&&(e=null);var n={element:this.getULElement(),items:this.items,event:e,cancel:!1};this.trigger("beforeClose",n,(function(e){if(!e.cancel){var n=s.getULElement(),o=n.querySelector(".e-selected");o&&o.classList.remove("e-selected"),s.dropDown.hide(),sf.base.removeClass(s.activeElem,"e-active"),s.element.setAttribute("aria-expanded","false"),t&&t.focus();var i={element:n,items:s.items};s.trigger("close",i),!s.target&&n&&sf.base.detach(n)}}))},t.prototype.unWireEvents=function(){sf.base.EventHandler.remove(document,"mousedown touchstart",this.delegateMousedownHandler),sf.base.EventHandler.remove(this.element,"click",this.clickHandler),sf.base.EventHandler.remove(this.getPopUpElement(),"click",this.clickHandler),sf.base.EventHandler.remove(this.element,"keydown",this.keyBoardHandler),sf.base.EventHandler.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.rippleFn()},t.prototype.onPropertyChanged=function(e,t){this.button.setProperties(sf.splitbuttons.getModel(e,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.dropDown.setProperties(sf.splitbuttons.getModel(e,["enableRtl"]));for(var s=this.getPopUpElement(),n=0,o=Object.keys(e);n<o.length;n++)switch(o[n]){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.canOpen()||this.closePopup()):this.wireEvents();break;case"cssClass":if(e.cssClass.indexOf(p)>-1){var i=this.element.querySelector("span.e-caret");sf.base.classList(i,["e-icon-bottom"],["e-icon-right"])}t.cssClass&&sf.base.removeClass([s],t.cssClass.split(" ")),e.cssClass&&sf.base.addClass([s],e.cssClass.split(" "));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.canOpen()||this.createItems()}},t.prototype.focusIn=function(){this.element.focus()},n([sf.base.Property("")],t.prototype,"content",void 0),n([sf.base.Property("")],t.prototype,"cssClass",void 0),n([sf.base.Property(!1)],t.prototype,"disabled",void 0),n([sf.base.Property("")],t.prototype,"iconCss",void 0),n([sf.base.Property("Left")],t.prototype,"iconPosition",void 0),n([sf.base.Property(!1)],t.prototype,"enableHtmlSanitizer",void 0),n([sf.base.Collection([],sf.splitbuttons.Item)],t.prototype,"items",void 0),n([sf.base.Property("")],t.prototype,"target",void 0),n([sf.base.Event()],t.prototype,"beforeItemRender",void 0),n([sf.base.Event()],t.prototype,"beforeOpen",void 0),n([sf.base.Event()],t.prototype,"beforeClose",void 0),n([sf.base.Event()],t.prototype,"close",void 0),n([sf.base.Event()],t.prototype,"open",void 0),n([sf.base.Event()],t.prototype,"select",void 0),n([sf.base.Event()],t.prototype,"created",void 0),t=n([sf.base.NotifyPropertyChanges],t)}(sf.base.Component),e.DropDownButton=c,e))}))}}]);